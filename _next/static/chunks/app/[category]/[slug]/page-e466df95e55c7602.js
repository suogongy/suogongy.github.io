(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{4092:function(e,r,t){Promise.resolve().then(t.bind(t,2024)),Promise.resolve().then(t.t.bind(t,2972,23))},2024:function(e,r,t){"use strict";t.d(r,{default:function(){return s}});var n=t(7437),i=t(2265),a=t(7970);function o(e){let{chart:r,id:t}=e,a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(a.current){let e=window.mermaid;if(e){e.initialize({startOnLoad:!1,theme:"default",themeVariables:{primaryColor:"#3b82f6",primaryTextColor:"#1f2937",primaryBorderColor:"#2563eb",lineColor:"#6b7280",secondaryColor:"#10b981",tertiaryColor:"#f59e0b",background:"#ffffff",mainBkg:"#f3f4f6",secondBkg:"#e5e7eb",tertiaryBkg:"#fef3c7"},flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"}});let n=t||"mermaid-".concat(Math.random().toString(36).substring(2,11));e.render(n,r).then(e=>{a.current&&(a.current.innerHTML=e.svg)}).catch(e=>{console.error("Mermaid rendering error:",e),a.current&&(a.current.innerHTML='<pre class="mermaid-error">'.concat(e.message||"Mermaid渲染失败","</pre>"))})}}},[r,t]),(0,n.jsx)("div",{ref:a,className:"mermaid-container",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"1rem 0",overflow:"auto"}})}var l=t(1740);function s(e){let{content:r}=e,t=(0,i.useRef)(null);a.TU.setOptions({highlight:function(e,r){return r&&l.Z.getLanguage(r)?l.Z.highlight(e,{language:r}).value:l.Z.highlightAuto(e).value},breaks:!0,gfm:!0});let{processedParts:s,mermaidBlocks:m}=(0,i.useMemo)(()=>{let e=[],t=0;return{processedParts:r.split(/(```mermaid\n[\s\S]*?```)/g).map(r=>{let n=r.match(/```mermaid\n([\s\S]*?)```/);if(n){let r="mermaid-".concat(Math.random().toString(36).substring(2,11)),i=n[1].trim();return e.push({id:r,chart:i,position:t}),t++,{type:"mermaid",id:r,chart:i}}return r.trim()?{type:"html",content:a.TU.parse(r)}:null}).filter(Boolean),mermaidBlocks:e}},[r]);return(0,n.jsx)("div",{className:"markdown-content",ref:t,children:s.map((e,r)=>e&&"html"===e.type?(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}},"html-".concat(r)):e&&"mermaid"===e.type?(0,n.jsx)(o,{chart:e.chart,id:e.id},e.id):null)})}}},function(e){e.O(0,[972,832,971,117,744],function(){return e(e.s=4092)}),_N_E=e.O()}]);